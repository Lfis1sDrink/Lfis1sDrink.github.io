<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    

    
<script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("use-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script>
    

<meta charset="utf-8" >

<title>[文章归档]什么是卷积？</title>
<meta name="keywords" content="[文章归档]什么是卷积？, Jack&#39;s Blog | 小刘的博客">
<meta name="description" content="原始URL: http://mp.weixin.qq.com/s?__biz&#x3D;MzI5NTM0MTQwNA&#x3D;&#x3D;&amp;mid&#x3D;2247498058&amp;idx&#x3D;1&amp;sn&#x3">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="[文章归档]什么是卷积？">
<meta property="og:description" content="原始URL: http://mp.weixin.qq.com/s?__biz&#x3D;MzI5NTM0MTQwNA&#x3D;&#x3D;&amp;mid&#x3D;2247498058&amp;idx&#x3D;1&amp;sn&#x3">

<link rel="shortcut icon" href="https://hexo.io/icon/favicon-32x32.png">
<link rel="stylesheet" href="/style/main.css">

  <meta name="generator" content="Hexo 7.3.0"></head>
  <body>
    <div id="app" class="main">
      

<div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://lfis1sdrink.github.io">
        <img class="avatar" src="/images/avatar.png" alt="logo" width="32px" height="32px">
      </a>
      <a href="https://lfis1sdrink.github.io">
        <h1 class="site-title">Jack&#39;s Blog | 小刘的博客</h1>
      </a>
    </div>
    <div class="right">
        <i class="icon menu-switch icon-menu-outline" ></i>
    </div>
  </div>
</div>

<div class="menu-container" style="height: 0;opacity: 0;">
<nav class="menu-list">
  
    
      <a href="/" class="menu purple-link">
        首页
      </a>
    
  
    
      <a href="/categories" class="menu purple-link">
        分类
      </a>
    
  
    
      <a href="/archives" class="menu purple-link">
        归档
      </a>
    
  
    
      <a href="/about" class="menu purple-link">
        关于
      </a>
    
  
</nav>
</div>



  <div class="content-container">
    <div class="post-detail">
      
      <h2 class="post-title">[文章归档]什么是卷积？</h2>
      <div class="post-info post-detail-info">
        <span><i class="icon icon-calendar-outline"></i> 2025-02-13</span>
        
          <span>
          <i class="icon icon-pricetags-outline"></i>
            
              <a href="/tags/%E6%96%87%E7%AB%A0%E5%BD%92%E6%A1%A3/">
              文章归档
                
                  ，
                
              </a>
            
              <a href="/tags/%E6%A8%A1%E6%80%81%E7%A9%BA%E9%97%B4/">
              模态空间
                
              </a>
            
          </span>
        
      </div>
      <div class="post-content-wrapper">
        <div class="post-content">
          <p><strong>原始URL</strong>: <a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzI5NTM0MTQwNA==&mid=2247498058&idx=1&sn=66fc7d65ece1e576cc42bc20d0a13be5&chksm=ec57a579db202c6f630839be20e508070ac955c518160ff83a52530fd70cd7f1ab0fb18bdb7d&&scene=24&srcid=02199eOCFsJQIYjO42pChaLU&sharer_shareinfo=61a2b7b3a1189d9f551e107c54356056&sharer_shareinfo_first=61a2b7b3a1189d9f551e107c54356056">http://mp.weixin.qq.com/s?__biz&#x3D;MzI5NTM0MTQwNA&#x3D;&#x3D;&amp;mid&#x3D;2247498058&amp;idx&#x3D;1&amp;sn&#x3D;66fc7d65ece1e576cc42bc20d0a13be5&amp;chksm&#x3D;ec57a579db202c6f630839be20e508070ac955c518160ff83a52530fd70cd7f1ab0fb18bdb7d&amp;&amp;scene&#x3D;24&amp;srcid&#x3D;02199eOCFsJQIYjO42pChaLU&amp;sharer_shareinfo&#x3D;61a2b7b3a1189d9f551e107c54356056&amp;sharer_shareinfo_first&#x3D;61a2b7b3a1189d9f551e107c54356056</a><br><strong>抓取时间</strong>: 2025-02-13 12:05:29<br><strong>本地化图片</strong>: 0张</p>
<p>Title: 什么是卷积？</p>
<p>URL Source: <a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzI5NTM0MTQwNA==&mid=2247498058&idx=1&sn=66fc7d65ece1e576cc42bc20d0a13be5&chksm=ec57a579db202c6f630839be20e508070ac955c518160ff83a52530fd70cd7f1ab0fb18bdb7d&&scene=24&srcid=02199eOCFsJQIYjO42pChaLU&sharer_shareinfo=61a2b7b3a1189d9f551e107c54356056&sharer_shareinfo_first=61a2b7b3a1189d9f551e107c54356056">http://mp.weixin.qq.com/s?__biz=MzI5NTM0MTQwNA==&amp;mid=2247498058&amp;idx=1&amp;sn=66fc7d65ece1e576cc42bc20d0a13be5&amp;chksm=ec57a579db202c6f630839be20e508070ac955c518160ff83a52530fd70cd7f1ab0fb18bdb7d&amp;&amp;scene=24&amp;srcid=02199eOCFsJQIYjO42pChaLU&amp;sharer_shareinfo=61a2b7b3a1189d9f551e107c54356056&amp;sharer_shareinfo_first=61a2b7b3a1189d9f551e107c54356056</a></p>
<p>Markdown Content:<br>什么是卷积？<br>Original 谭祥军 模态空间<br> 2024年02月18日 07:19</p>
<p>卷积（Convolution）是一个非常复杂的数学处理，且应用非常广泛，如在信号处理、图像处理、机器学习、神经网络等领域。它有一维、二维和三维的定义与应用。在这里，我们仅介绍一维的定义与应用。这篇文章不是要介绍卷积的深奥理论，而仅是从一维角度介绍卷积的原理与计算过程等内容，使你对它有一个感性认识。如有不严谨之处，望不吝赐教指正。</p>
<p>01</p>
<p>—</p>
<p>卷积的定义</p>
<p>          </p>
<p>首先，我们明白结构系统的响应衰减是需要时间的。系统受到激励（输入）后，会产生响应（输出），如果系统的阻尼小，那么，响应衰减至零需要花费很长的时间。在这，我们以锤击激励为例来进行说明。如果系统在受到第一次锤击之前，系统处于静止状态，那么，系统的响应只与这次激励有关，如图1所示。</p>
<p>图1 结构在静止时受到第一次的激励（上）与响应（下）</p>
<p>如果测量是按紧密连续的方式进行的，即还未等上一次的响应衰减到零，已进行了下一次的激励。此时，第二次激励下的响应包含了第一次锤击之后剩余的响应，而第三次测量的响应包含了第二次或前两次锤击的残余响应，如图2所示。从另一个方面来讲，第二次的响应除了包含第二次的激励产生的响应之外，还叠加了第一次激励产生的“残余”响应；第三次的响应除了本次激励产生的响应之外，还叠加了前两次激励产生响应的“残余”部分。</p>
<p>图2 第二次测量的响应包含前一次的“剩余响应”</p>
<p>如果这个过程持续进行，且两次激励时间间隔非常短。那么，每次测量的响应（除第一次之外）不止是本次锤击引起的结构响应，还包含前一次、前两次、前三次，或者是前n次锤击引起的结构的残余响应，如图3所示。或者说系统的响应不仅与当前时刻系统的输入有关，而且还跟之前若干时刻的输入有关，因为我们可以理解为这是之前时刻的输入引起的输出经过一种过程（比如衰减，削弱，或其他）对现在时刻系统输出的影响。那么显然，我们计算系统输出时就必须考虑现在时刻的输入引起的响应以及之前若干时刻输入引起的响应在当前时刻的“残余”影响的一个叠加效果。</p>
<p>图3 紧密方式下的输入（上）与输出（下）</p>
<p>我们知道，线性时不变系统的响应等于激励乘以频响函数，这是在频域，一定程度上很难反应出这种“残余响应”的叠加效应。这时，从时域角度，利用线性系统的响应  等于时域输入  与脉冲响应函数  的卷积(  表示卷积)得到，即
 
 </p>
<p>式中，变量  仍是时间，与当前要计算的响应时间  的区别在于，  表示当前要计算的响应时刻，而  是第一次输入时刻至当前要计算时刻之间的所有时刻。也就是说，某时刻的系统响应由当前输入引起的响应，以及之前每次输入引起的响应在当前时刻的“残余响应”叠加得到。因此，积分范围约束了要考虑的时间范围，即当前时刻的系统响应与多长时间之前时刻的响应的 “残余”有关。从上式可以看出，卷积是一种积分运算，它可以用来描述线性时不变系统的输入和输出的关系：即输出可以通过输入和系统的脉冲响应函数进行卷积运算得到。 </p>
<p>上式给出的定义是连续的积分定义，对于信号处理而言，由于数字化后的信号是离散的，因此，卷积的离散定义为求和，即<br> <br> <br>从上面的卷积公式可以看出，要计算当前时刻的系统响应要考虑之前所有时刻，才获得一个单值响应。这个操作类似于图4的卷手绢过程，将整个时间区间“卷”起来得到一个单值结果。卷积的英文是Convolution，它的动词是convolve，这个动词出自于拉丁语系的con和volve，分别是“一起”和“卷起”的意思，因此，convolution表示一起卷起来的东西。<br>图4 卷手绢</p>
<p>来源：<a target="_blank" rel="noopener" href="https://www.zhihu.com/tardis/bd/ans/228543288?source_id=1001">https://www.zhihu.com/tardis/bd/ans/228543288?source_id=1001</a></p>
<p>          </p>
<p>02</p>
<p>—</p>
<p>卷积的计算过程</p>
<p>的确，卷积处理是一个非常复杂的过程，但卷积的计算还是相对简单的，就是一个积分处理过程。两个信号的卷积，使得卷积之后的信号包含了原始信号的“特征”。在上式中，变量  是时间，而  也是时间，也就是说计算特定时刻  时的卷积值需要对整个时间范围（要包含之前的“残余响应”）进行积分，得到这个时刻  对应的一个单值，然后移动到下一个时刻，重复这个过程，直到计算完所有的时间。</p>
<p>为了使你明白卷积的计算过程，在这，我们将计算过程分作几个子过程，如图5所示。有限长度的脉冲响应函数  如图5a所示，但我们注意到，卷积定义公式中使用的是  ，不是  ，因此，需要将脉冲响应函数  反转成  ，也就是将  沿  轴（  轴）翻转（镜像）成  ，如图5b所示。然后将  沿  轴平移至“起点”  （当  时，可以认为  对应  ），如图5c所示。如果  为正值，则沿着  轴正向移动；如果  为负值，则沿  轴负向移动。图5d表示  时刻对系统的输入信号，然后两个信号相乘并对时间进行积分，我们知道，积分是一个求面积的过程，因此，在图5e中，积分是计算图中所示的阴影部分的面积，位于  轴之上和之下的面积按代数和相加得到时刻  所对应的结果。卷积处理的复杂在于上述描述的过程只是得到一个单值。如果要计算下一个时刻的值  ，需要将  沿  轴平移至  ，再与输入信号相乘，积分得到这个时刻的值。接着再重复这个过程，直到计算完时间轴上所有要计算的时刻。</p>
<p>图5 卷积计算过程说明</p>
<p>在卷积中，  表示过去  时刻（假设  表示当前时刻）的输入，而  表示过去  时刻与当前时刻的差值，因此，  表示  时刻单位脉冲输入下的响应在当前时刻的“残余”。当  从  到当前时刻时，是对过往所有时刻输入下的“残余响应”进行叠加的过程。当计算整个时间轴上的响应  时，脉冲响应函数  将滑行整个时间轴，这意味着脉冲响应函数起到了加权作用。即计算时间  时的响应  是输入信号  在时间上通过脉冲响应函数“向后”进行了计权。   </p>
<p>以上考虑的过往时间对当前时刻的叠加效果，在信号处理中，如在频域进行卷积则是考虑离散的谱线，此时，计算任何一个频率处的值，要考虑整个频率范围，即当前频率之前与之后的所有谱线的叠加效果。</p>
<p>          </p>
<p>03</p>
<p>—</p>
<p>卷积的基本性质</p>
<p>卷积最重要的性质是卷积定理，即信号卷积的傅里叶变换是信号傅里叶变换的乘积。卷积定理分为时域卷积定理和频域卷积定理。时域卷积定理是说时域信号的卷积对应信号频域的乘积；频域卷积定理即频域信号的卷积对应时域的乘积。即</p>
<p> </p>
<p> </p>
<p>1）交换律：改变信号的顺序进行卷积，不会改变卷积结果，即<br> <br> <br>2）结合律：多个信号进行卷积时，改变两两卷积的先后顺序，不改变卷积结果，即<br> <br> <br>3）分配律：两个信号相加与第三个信号进行卷积等于这两个信号分别与第三个信号卷积之和，即<br> <br> <br>4）数乘：设  为常数，则有<br> <br> <br>5）不变性：信号与同时刻的狄拉克函数进行卷积，仍等于原信号<br> <br> <br>6）平移性：信号与不同时刻的狄拉克函数进行卷积，等于将原信号进行平移<br> <br> <br>7）求导规则：
 
 </p>
<p>             </p>
<p>04</p>
<p>—</p>
<p>卷积在NVH中的应用</p>
<p>卷积在信号处理中有诸多应用，但它是个黑匣子，很多时候，在我们不知不觉中就会用到卷积。比如，采样过程，加窗处理、相关分析、噪声源定位等信号处理应用。</p>
<p>在将模拟信号采样获得数字信号的过程中，会使用一个时间间隔  的脉冲序列 (图6c)与原始的模拟信号（图6a）相乘，得到采样后的数字信号(图6e)。根据卷积定理可知，两个信号的时域乘积的傅里叶变换等于这两个信号的频域卷积。这个时域脉冲序列的傅里叶变换(图6d)，在频域上也是一个脉冲序列，相邻脉冲的频率间距等于采样频率  。也就是说，时域脉冲序列的频谱是频率间隔为采样频率  的脉冲序列。信号的频谱(图6b)与时域脉冲序列的频谱(图6d)在频域上的卷积将产生重复频谱：采样信号的频谱将以每个采样频率的整数倍（包括0倍）为中心重复出现，如图6f所示。因此，为了保证频域卷积不产生重叠的频谱，采样信号的带宽必须低于  ，即奈奎斯特频率。通过执行采样定理，我们可以保证信号带宽  的采样信号的频谱与原始信号的频谱相同。因此，在采样过程中，模拟信号与时间序列脉冲的乘积对应它们频谱的卷积，而我们大多数看到的是采样后的信号频谱，因此，对于我们而言，卷积是一个黑匣子。<br>	<br>（a）原始模拟信号	（b）模拟信号的频谱<br>	<br>（c）时域脉冲序列 	（d）脉冲序列的频谱<br>	<br>（e）模拟信号与脉冲序列相乘	（f）两信号的频域卷积</p>
<p>图6 采样过程示意，两信号频域的卷积使得频谱重复出现</p>
<p>对信号施加窗函数实质是用一个窗函数与采样后的时域信号相乘的过程（当然加窗也可以在频域进行，但时域更为普遍），使得相乘后的信号似乎更好地满足傅里叶变换的周期性要求。虽然窗函数应用在时域，通过对实际捕获的时域信号乘以时域窗函数，但是窗函数的影响在频域更明显。在频域，实际上是频域的实际信号与窗函数谱线的卷积。这个影响简单的示意性显示在图7中，图中显示了三条谱线的窗函数频谱和一个离散的单频正弦波。时域窗函数与测量数据的乘积导致了频域的卷积。理论窗的频谱与实际信号的乘积在每个  处生成一个值形成叠加。在这个例子中，我们可以看到在第七个  处的实际信号乘以了假设有三个瓣的窗函数。当我们考虑第一个  时，这个频率处信号的值为0，因为窗函数相应的每一项 <br>（<br>）<br> 乘以这个信号之和为零。这些值都为0，直到窗的主瓣位于第六个  时才有非零值，以及主瓣位于第七和第八个  处，即  时，才有非零值，而其他位置都为0值。</p>
<p>图7 理论窗与实际信号在频域的卷积示意</p>
<p>对数字化的信号进行升采样时，需要在采样点之间进行插值，可由下面的卷积公式进行插值处理。当对  时刻进行插值时，式中  是原始已采样的信号，  函数集中在插值点处，要计算时刻  处的插值，需要考虑整个原始数字信号的采样点<br> <br> <br>如图8所示，对1V、20Hz的正弦波进行采样，假设图8中红色曲线是采样频率12800Hz下的信号为真实的原始信号。如果按频率成分的3倍，即采样频率为60Hz时，得到的信号如图8中绿色曲线所示，可以看出，此时，幅值失真明显。对此采样频率下得到的数字信号进行升采样，升采样频率为2000Hz，那么需要在60Hz采样频率下的各个采样点之间进行插值处理，插值按上式进行，得到插值后的信号如图8中蓝色十字所示。从这可以看出，在满足采样定理的前提条件下，即使采样后的信号幅值失真，仍可按上式重构得到原始的信号。</p>
<p>图8 对低采样率的信号进行插值</p>
<p>当然，除了以上几种应用之外，卷积在信号处理中还有许多应用，如相关运算可通过卷积求得、噪声源定位等。卷积计算的的确确是一个黑匣子，有时我们都不知道应用背后有卷积应用。但明白卷积处理可以使我们更好的明白信号处理背后的原理与过程。</p>
<p>          </p>
<p>参考：<br>1.谭祥军.  模态试验实用技术——实践者指南，机械工业出版社，2019<br>2.Anders Brandt, Noise and Vibration Analysis: Signal Analysis and Experimental Processing (Second Edition), Wiley Press, 2023<br>3.再讲卷积的本质及物理意义，解释的真幽默！算法与数学之美，2021</p>
<p>扩展阅读</p>
<p>1.什么是频率?<br>2.什么是域？如时域、频域、拉氏域等<br>3.怎么看频谱图<br>4.什么是窗函数?<br>5.什么是频率分辨率？<br>6.什么是频响函数FRF（一）？</p>
<p>7.什么是频响函数FRF（二）？</p>

        </div>
          
        <div class="top-div">
          
        </div>
          
      </div>
    </div>

    
      <div class="next-post">
        <a class="purple-link" href="/2025/02/13/wen_zhang_gui_dang/wen_zhang_gui_dang_ni_zai_zhui_qiu_geng_hao_ma/">
          <h3 class="post-title">
            下一篇：[文章归档]你在追求“更好”吗？
          </h3>
        </a>
      </div>
    
  </div>










<footer>
<div class="site-footer">
  <div class="social-container">
    
      
        <a aria-label="跳转至github" href="https://github.com/Lfis1sDrink" target="_blank">
          <i class="icon icon-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  </div>
  
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <a href="https://github.com/f-dong/hexo-theme-minimalism" target="_blank">Theme</a>
  
  
  
  
  
  
</div>
</footer>


      </div>
    </div>
    
<script id="hexo-configurations"> window.theme_config = {"image":{"lazyload_enable":true,"photo_zoom":"simple-lightbox"}}; window.is_post = true; </script>

<script src="/js/main.js"></script>






  </body>
</html>

